
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Troubleshooting &#8212; The LLDB Debugger</title>
    <link rel="stylesheet" href="../static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../static/lldb.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../static/documentation_options.js"></script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <script type="text/javascript" src="../static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Architecture" href="architecture.html" />
    <link rel="prev" title="Remote Debugging" href="remote.html" />
   
  <link rel="stylesheet" href="../static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="troubleshooting">
<h1>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#file-and-line-breakpoints-are-not-getting-hit" id="id1">File and Line Breakpoints Are Not Getting Hit</a></p></li>
<li><p><a class="reference internal" href="#how-do-i-check-if-i-have-debug-symbols" id="id2">How Do I Check If I Have Debug Symbols?</a></p></li>
</ul>
</div>
<div class="section" id="file-and-line-breakpoints-are-not-getting-hit">
<h2><a class="toc-backref" href="#id1">File and Line Breakpoints Are Not Getting Hit</a><a class="headerlink" href="#file-and-line-breakpoints-are-not-getting-hit" title="Permalink to this headline">¶</a></h2>
<p>First you must make sure that your source files were compiled with debug
information. Typically this means passing -g to the compiler when compiling
your source file.</p>
<p>When setting breakpoints in implementation source files (.c, cpp, cxx, .m, .mm,
etc), LLDB by default will only search for compile units whose filename
matches. If your code does tricky things like using #include to include source
files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">cat</span> <span class="n">foo</span><span class="o">.</span><span class="n">c</span>
<span class="c1">#include &quot;bar.c&quot;</span>
<span class="c1">#include &quot;baz.c&quot;</span>
<span class="o">...</span>
</pre></div>
</div>
<p>This will cause breakpoints in “bar.c” to be inlined into the compile unit for
“foo.c”. If your code does this, or if your build system combines multiple
files in some way such that breakpoints from one implementation file will be
compiled into another implementation file, you will need to tell LLDB to always
search for inlined breakpoint locations by adding the following line to your
~/.lldbinit file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">echo</span> <span class="s2">&quot;settings set target.inline-breakpoint-strategy always&quot;</span> <span class="o">&gt;&gt;</span> <span class="o">~/.</span><span class="n">lldbinit</span>
</pre></div>
</div>
<p>This tells LLDB to always look in all compile units and search for breakpoint
locations by file and line even if the implementation file doesn’t match.
Setting breakpoints in header files always searches all compile units because
inline functions are commonly defined in header files and often cause multiple
breakpoints to have source line information that matches many header file
paths.</p>
<p>If you set a file and line breakpoint using a full path to the source file,
like Xcode does when setting a breakpoint in its GUI on macOS when you click
in the gutter of the source view, this path must match the full paths in the
debug information. If the paths mismatch, possibly due to passing in a resolved
source file path that doesn’t match an unresolved path in the debug
information, this can cause breakpoints to not be resolved. Try setting
breakpoints using the file basename only.</p>
<p>If you are using an IDE and you move your project in your file system and build
again, sometimes doing a clean then build will solve the issue.This will fix
the issue if some .o files didn’t get rebuilt after the move as the .o files in
the build folder might still contain stale debug information with the old
source locations.</p>
</div>
<div class="section" id="how-do-i-check-if-i-have-debug-symbols">
<h2><a class="toc-backref" href="#id2">How Do I Check If I Have Debug Symbols?</a><a class="headerlink" href="#how-do-i-check-if-i-have-debug-symbols" title="Permalink to this headline">¶</a></h2>
<p>Checking if a module has any compile units (source files) is a good way to
check if there is debug information in a module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">file</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">a</span><span class="o">.</span><span class="n">out</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">image</span> <span class="nb">list</span>
<span class="p">[</span>  <span class="mi">0</span><span class="p">]</span> <span class="mf">71E5</span><span class="n">A649</span><span class="o">-</span><span class="mi">8</span><span class="n">FEF</span><span class="o">-</span><span class="mi">3887</span><span class="o">-</span><span class="mi">9</span><span class="n">CED</span><span class="o">-</span><span class="n">D3EF8FC2FD6E</span> <span class="mh">0x0000000100000000</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">a</span><span class="o">.</span><span class="n">out</span>
      <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">a</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">dSYM</span><span class="o">/</span><span class="n">Contents</span><span class="o">/</span><span class="n">Resources</span><span class="o">/</span><span class="n">DWARF</span><span class="o">/</span><span class="n">a</span><span class="o">.</span><span class="n">out</span>
<span class="p">[</span>  <span class="mi">1</span><span class="p">]</span> <span class="mi">6900</span><span class="n">F2BA</span><span class="o">-</span><span class="n">DB48</span><span class="o">-</span><span class="mi">3</span><span class="n">B78</span><span class="o">-</span><span class="n">B668</span><span class="o">-</span><span class="mi">58</span><span class="n">FC0CF6BCB8</span> <span class="mh">0x00007fff5fc00000</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">dyld</span>
<span class="o">....</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">script</span> <span class="n">lldb</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">module</span><span class="p">[</span><span class="s1">&#39;/tmp/a.out&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetNumCompileUnits</span><span class="p">()</span>
<span class="mi">1</span>
<span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">script</span> <span class="n">lldb</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">module</span><span class="p">[</span><span class="s1">&#39;/usr/lib/dyld&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetNumCompileUnits</span><span class="p">()</span>
<span class="mi">0</span>
</pre></div>
</div>
<p>Above we can see that “/tmp/a.out” does have a compile unit, and
“/usr/lib/dyld” does not.</p>
<p>We can also list the full paths to all compile units for a module using python:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">script</span>
<span class="n">Python</span> <span class="n">Interactive</span> <span class="n">Interpreter</span><span class="o">.</span> <span class="n">To</span> <span class="n">exit</span><span class="p">,</span> <span class="nb">type</span> <span class="s1">&#39;quit()&#39;</span><span class="p">,</span> <span class="s1">&#39;exit()&#39;</span> <span class="ow">or</span> <span class="n">Ctrl</span><span class="o">-</span><span class="n">D</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">lldb</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">module</span><span class="p">[</span><span class="s1">&#39;a.out&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">GetNumCompileUnits</span><span class="p">()):</span>
<span class="o">...</span>   <span class="n">cu</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">GetCompileUnitAtIndex</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">fullpath</span>
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">main</span><span class="o">.</span><span class="n">c</span>
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">foo</span><span class="o">.</span><span class="n">c</span>
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">bar</span><span class="o">.</span><span class="n">c</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>This can help to show the actual full path to the source files. Sometimes IDEs
will set breakpoints by full paths where the path doesn’t match the full path
in the debug info and this can cause LLDB to not resolve breakpoints. You can
use the breakpoint list command with the –verbose option to see the full paths
for any source file and line breakpoints that the IDE set using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">breakpoint</span> <span class="nb">list</span> <span class="o">--</span><span class="n">verbose</span>
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">LLDB</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Goals &amp; Status</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../status/goals.html">Goals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../status/features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../status/status.html">Status</a></li>
<li class="toctree-l1"><a class="reference internal" href="../status/projects.html">Projects</a></li>
</ul>
<p class="caption"><span class="caption-text">Use &amp; Extension</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="map.html">GDB to LLDB command map</a></li>
<li class="toctree-l1"><a class="reference internal" href="formatting.html">Frame and Thread Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="variable.html">Variable Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="symbolication.html">Symbolication</a></li>
<li class="toctree-l1"><a class="reference internal" href="symbols.html">Symbols on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="python-reference.html">Python Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="remote.html">Remote Debugging</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../resources/download.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/source.html">Getting the Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/build.html">Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/test.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/bots.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/sbapi.html">The SB API Coding Rules</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://lldb.llvm.org/python_reference/index.html">Public Python API Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://lldb.llvm.org/cpp_reference/namespacelldb.html">Public C++ API Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://lldb.llvm.org/cpp_reference/index.html">Private C++ Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">External Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="http://llvm.org/viewvc/llvm-project/lldb/trunk/">Source Code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://reviews.llvm.org">Code Reviews</a></li>
<li class="toctree-l1"><a class="reference external" href="https://bugs.llvm.org/">Bug Reports</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="remote.html" title="previous chapter">Remote Debugging</a></li>
      <li>Next: <a href="architecture.html" title="next chapter">Architecture</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2007-2019, The LLDB Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>